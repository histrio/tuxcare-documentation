name: Publish to GitHub Pages

on:
Â Â push:
Â Â Â Â branches:
Â Â Â Â - master

jobs:
Â publish:
Â Â Â Â runs-on: ubuntu-latest
Â Â Â Â steps:
Â Â Â Â Â Â - name: Checkout
Â Â Â Â Â Â Â Â uses: actions/checkout@v3 # If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.
Â Â Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â persist-credentials: false

Â Â Â Â Â Â - name: Setup Node.js
Â Â Â Â Â Â Â Â uses: actions/setup-node@v3
Â Â Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â Â Â # choose node.js version to use
Â Â Â Â Â Â Â Â Â Â node-version: '16'

Â Â Â Â Â Â - name: Install and Build ðŸ”§ #
Â Â Â Â Â Â Â Â run: |
Â Â Â Â Â Â Â Â Â Â Â Â yarn
Â Â Â Â Â Â Â Â Â Â Â Â yarn docs:build

Â Â Â Â Â Â - name: Deploy ðŸš€
Â Â Â Â Â Â Â Â uses: JamesIves/github-pages-deploy-action@3.7.1
Â Â Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â Â Â GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
Â Â Â Â Â Â Â Â Â Â BRANCH: gh-pages # The branch the action should deploy to.
Â Â Â Â Â Â Â Â Â Â FOLDER: docs/.vuepress/dist # The folder the action should deploy.
Â Â Â Â Â Â Â Â Â Â CLEAN: true # Automatically remove deleted files from the deploy branch
